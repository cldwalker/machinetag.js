<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Machine Tag Tree Demo</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  </head>
  <body>
    
<h2>Machine Tag Tree Demo</h2>
Some searches to try: post:*, gem:*, lib:*
<form action="javascript:void($.machineTagSearch($('#machine_tag_query').val()))">
  <input type="text" name="machine_tag" id="machine_tag_query"/>
  <input value="Machine Tag Search" type="submit"/>
  <span id="machine_tag_search_status" style="display:none"> Searching ...</span>
</form>
<p> For an explanation of what you're seeing, read <a
  href="http://tagaholic.me/2009/04/14/i-am-machine-tag-and-so-can-you.html"> my post</a>
  on this plugin.</p>
<script type="text/javascript" src="javascripts/jquery.machineTag.js"></script>
<script type="text/javascript" src="javascripts/jquery.machineTagTree.js"></script>
<script type="text/javascript" src="javascripts/jquery.treeTable.js"></script>
<link href="stylesheets/jquery.treeTable.css" rel="stylesheet" type="text/css" />
<link href="stylesheets/jquery.machineTagTree.css" rel="stylesheet" type="text/css" />

<div id="tag_tree"></div>

<script type="text/javascript" charset="utf-8">
function toggleSearchStatus() { return $("#machine_tag_search_status").toggle();}
function convertRecords(records) {
    return records.map( function(e){ return {title: e.title, url: "http://tagaholic.me"+e.url, tags: e.tags} });
}
$(function() {
  $.machineTagTree.defaultOptions = {recordName: 'Posts'};
  $.machineTagSearch.defaultOptions = {
    jsonUrl: 'posts.json', beforeSearch: toggleSearchStatus, afterSearch: toggleSearchStatus, displayCallback: $.machineTagTree,
    beforeJsonSearch: convertRecords
  };
  $.machineTagSearchLocation();
});
</script>

</body>
</html>
